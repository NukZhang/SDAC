# 🤖 AI2AI 状态压缩机制（长期项目防膨胀）

## 定位
AI2AI.md 用于记录 AI 的执行状态与项目事实。
在长期项目中，AI2AI 会自然膨胀，本机制用于 **周期性压缩而不丢失有效信息**。

目标：
- 保留“当前可执行真相”
- 删除历史噪音
- 防止 AI 被过期上下文误导

---

## 一、触发条件（任一满足即触发）

- AI2AI.md 超过 300 行
- 完成一个阶段性里程碑
- 人类指令：启用 AI2AI 状态压缩

---

## 二、压缩原则（不可违反）

1. **事实优先于过程**
2. **现状优先于历史**
3. **约束优先于经验**
4. **结论优先于讨论**

禁止：
- 引入新需求
- 改写 Me2AI 含义
- 修改已生效的技术约束

---

## 三、压缩目标结构（压缩后唯一合法形态）

```md
# AI2AI 执行状态（压缩版）

## 一、项目当前稳定架构
- 渲染体系：
- 输入体系：
- 实体 / 碰撞：
- 战斗 / 武器：
- AI / 状态机：

## 二、已完成迭代（事实摘要）
- 迭代 X：一句话 + 已验证结果
- 迭代 Y：一句话 + 已验证结果

## 三、当前有效约束
- 不可变约束：
- 已验证假设：
- 已知限制：

## 四、当前执行焦点
- 正在进行的迭代：
- 明确未做的事：
```

---

## 四、压缩执行流程（强制）

### Step 1：冻结 AI2AI.md
- 当前内容视为历史输入
- 不再新增记录

### Step 2：提取有效信息
仅允许提取：
- 当前仍生效的架构描述
- 已完成且结果确定的迭代
- 仍然成立的技术/执行约束

### Step 3：重写为“压缩版结构”
- 使用上述固定结构
- 禁止出现时间线式流水账

### Step 4：一致性校验
- 不得与 Me2AI 冲突
- 不得引入未实现能力

---

## 五、AI 行为硬约束

- 压缩后，AI 只能依赖“压缩版 AI2AI”
- 压缩前内容视为失效历史，不再引用
- 后续新增内容继续写在压缩版下方

---

## 六、AI2AI 写入续写规则（压缩后）

```md
---
### 迭代 N：<目标> <状态>
- 完成内容：
- 验证结果：
```

当再次触发压缩时，重复本机制。

---

## 七、一句话启用模板（推荐）

```md
启用 AI2AI 状态压缩机制。
在不引入新需求的前提下，
将当前 AI2AI.md 压缩为“压缩目标结构”，
并替换原文件内容。
```

---

## 八、设计说明（给人类）

- AI2AI 是“状态”，不是“日志”
- 压缩不是删信息，而是**删历史噪音**
- 这是长期 AICoding 项目可持续的关键
